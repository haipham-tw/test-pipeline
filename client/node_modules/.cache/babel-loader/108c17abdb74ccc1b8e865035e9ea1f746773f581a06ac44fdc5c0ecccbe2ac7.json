{"ast":null,"code":"var _jsxFileName = \"/Users/haipham/Desktop/tw-launch_2/twl-apac-book-store/client/src/pages/Home/Home.tsx\",\n  _s = $RefreshSig$();\nimport { Box, Container, Typography } from \"@mui/material\";\nimport Image from \"./open-book.jpeg\";\nimport { MyFeatures } from \"../../utils/MyFeatures\";\nimport { FeatureToggle, Off, On } from \"../../component/FeatureToggle/FeatureToggle\";\nimport BookList from \"../../component/BookList/BookList\";\nimport React, { useEffect, useState } from \"react\";\nimport { get, HttpStatus } from \"../../utils/api/Api\";\nimport { API_CONFIG } from \"../../api-config\";\nimport RoundedPagination from \"../../component/Pagination/RoundedPagination\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst styles = {\n  image: {\n    backgroundRepeat: \"no-repeat\",\n    position: \"absolute\",\n    right: \"0px\",\n    bottom: \"0px\",\n    maxHeight: \"100vh\",\n    width: \"100%\",\n    opacity: \"0.5\",\n    zIndex: -1\n  },\n  quote: {\n    paddingBottom: \"15%\"\n  },\n  author: {\n    paddingBottom: \"5%\"\n  }\n};\nconst quote = '“A reader lives a thousand lives before he dies. The man who never reads lives only one.”';\nconst author = \"- George R.R. Martin\";\nconst Home = () => {\n  _s();\n  const [items, setItems] = useState([]);\n  const [page, setPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(1);\n  const fetchBooks = async page => {\n    const limit = 20;\n    const offset = (page - 1) * limit;\n    const response = await get(`${API_CONFIG.book.url}?offset=${offset}`, [HttpStatus.OK]);\n    const totalPages = await get(`${API_CONFIG.totalPages.url}`, [HttpStatus.OK]);\n    const data = response.data;\n    setItems(data);\n    setTotalPages(totalPages.data);\n  };\n  useEffect(() => {\n    (async () => {\n      await fetchBooks(page);\n    })();\n  }, [page]);\n  const handlePageChange = newPage => {\n    setPage(newPage);\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h5\",\n      sx: styles.quote,\n      children: quote\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      children: author\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      component: \"img\",\n      src: Image,\n      sx: styles.image,\n      alt: \"Book\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(FeatureToggle, {\n      name: MyFeatures.LIST_BOOKS,\n      children: [/*#__PURE__*/_jsxDEV(On, {\n        children: /*#__PURE__*/_jsxDEV(BookList, {\n          items: items\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Off, {\n        children: /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(FeatureToggle, {\n      name: MyFeatures.PAGINATION,\n      children: [/*#__PURE__*/_jsxDEV(On, {\n        children: /*#__PURE__*/_jsxDEV(RoundedPagination, {\n          currentPage: page,\n          totalPages: totalPages,\n          onPageChange: handlePageChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Off, {\n        children: /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 12\n  }, this);\n};\n_s(Home, \"BWS7MAiNDNJBgmMNXQYyMH5VIFs=\");\n_c = Home;\nexport default Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["Box","Container","Typography","Image","MyFeatures","FeatureToggle","Off","On","BookList","React","useEffect","useState","get","HttpStatus","API_CONFIG","RoundedPagination","jsxDEV","_jsxDEV","Fragment","_Fragment","styles","image","backgroundRepeat","position","right","bottom","maxHeight","width","opacity","zIndex","quote","paddingBottom","author","Home","_s","items","setItems","page","setPage","totalPages","setTotalPages","fetchBooks","limit","offset","response","book","url","OK","data","handlePageChange","newPage","children","variant","sx","fileName","_jsxFileName","lineNumber","columnNumber","component","src","alt","name","LIST_BOOKS","PAGINATION","currentPage","onPageChange","_c","$RefreshReg$"],"sources":["/Users/haipham/Desktop/tw-launch_2/twl-apac-book-store/client/src/pages/Home/Home.tsx"],"sourcesContent":["import { Box, Container, Typography } from \"@mui/material\";\nimport Image from \"./open-book.jpeg\";\nimport { MyFeatures } from \"../../utils/MyFeatures\";\nimport { FeatureToggle, Off, On } from \"../../component/FeatureToggle/FeatureToggle\";\nimport BookList from \"../../component/BookList/BookList\";\nimport { BookInfo } from \"../../component/BookCard/BookCard\";\nimport React, {useEffect, useState} from \"react\";\nimport {get, HttpStatus} from \"../../utils/api/Api\";\nimport {API_CONFIG} from \"../../api-config\";\nimport {BaseResponse} from \"../../models/BaseResponse\";\nimport RoundedPagination from \"../../component/Pagination/RoundedPagination\";\n\nconst styles = {\n    image: {\n        backgroundRepeat: \"no-repeat\",\n        position: \"absolute\",\n        right: \"0px\",\n        bottom: \"0px\",\n        maxHeight: \"100vh\",\n        width: \"100%\",\n        opacity: \"0.5\",\n        zIndex: -1\n    },\n    quote: {\n        paddingBottom: \"15%\"\n    },\n    author: {\n        paddingBottom: \"5%\"\n    }\n};\n\nconst quote = '“A reader lives a thousand lives before he dies. The man who never reads lives only one.”';\nconst author = \"- George R.R. Martin\";\n\nconst Home = (): JSX.Element => {\n    const [items, setItems] = useState<BookInfo[]>([]);\n    const [page, setPage] = useState<number>(1);\n    const [totalPages, setTotalPages] = useState<number>(1);\n\n    const fetchBooks = async (page: number) => {\n        const limit = 20;\n        const offset = (page - 1) * limit;\n        const response: BaseResponse<BookInfo[]> = await get(`${API_CONFIG.book.url}?offset=${offset}`, [HttpStatus.OK]);\n        const totalPages: BaseResponse<number> = await get(`${API_CONFIG.totalPages.url}`, [HttpStatus.OK]);\n        const data = response.data;\n\n        setItems(data);\n        setTotalPages(totalPages.data);\n    };\n\n    useEffect(() => {\n        (async () => {\n            await fetchBooks(page);\n        })()\n    }, [page]);\n\n    const handlePageChange = (newPage: number) => {\n        setPage(newPage);\n    };\n\n    return <Container>\n        <Typography variant=\"h5\" sx={styles.quote}>{quote}</Typography>\n        <Box>{author}</Box>\n        <Box component=\"img\" src={Image} sx={styles.image} alt=\"Book\" />\n        <FeatureToggle name={MyFeatures.LIST_BOOKS}>\n            <On>\n                <BookList items={items}></BookList>\n            </On>\n            <Off>\n                <></>\n            </Off>\n        </FeatureToggle>\n        <FeatureToggle name={MyFeatures.PAGINATION}>\n            <On>\n                <RoundedPagination\n                    currentPage={page}\n                    totalPages={totalPages}\n                    onPageChange={handlePageChange}\n                />\n            </On>\n            <Off>\n               <></>\n            </Off>\n        </FeatureToggle>\n    </Container>\n};\n\nexport default Home;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}